# Fast Api проект,который асинхронно получает вопросы из внешнего API, затем ищет их в локальной базе данных и, если они ещё не существуют, сохраняет их.

# Принцип работы

Пользователь задаёт число вопросов для получения. Приложение, используя библиотеку httpx, выполняет асинхронные HTTP-запросы к внешнему API. Для каждого полученного вопроса приложение проверяет, существует ли этот вопрос в локальной базе данных SQLAlchemy. Если вопроса нет, он добавляется как новый запись.

# Основные компоненты и библиотеки

Проект использует:

-FastAPI для создания асинхронного веб-приложения;

-SQLAlchemy для организации подключения к базе данных и выполнения запросов;

-dotenv для загрузки переменных окружения (в этом проекте используется для извлечения строки подключения к базе данных);

-httpx для выполнения асинхронных HTTP-запросов.

-Основную бизнес-логику представляет метод process_questions, который принимает число вопросов для получения и возвращает запрошенное число уникальных вопросов, полученных от внешнего API и сохранённых в локальной базе данных.

# Инструкция по сборке и запуску

Сначала постройте контейнер для  приложения, используя следующую команду:

>docker-compose build

Затем, вы можете запустить  приложение, используя следующую команду:

>docker-compose up

# Пример запроса к API с использованием Swagger

Ваше приложение FastAPI автоматически предоставляет пользовательский интерфейс Swagger для тестирования API. После запуска вашего приложения, вы можете обратиться к этом пользовательском интерфейсу, перейдя по адресу http://localhost:8000/docs в вашем веб-браузере.

Для отправки POST-запроса:

Перейдите на страницу Swagger UI по адресу http://localhost:8000/docs.

Найдите ваш endpoint POST /questions/.

Нажмите на него, затем нажмите на кнопку "Try it out".

Введите необходимые данные в поле "Request body", например:


{
  "questions_num": 3
}

Нажмите "Execute". Внизу страницы вы увидите ответ API на ваш запрос.
